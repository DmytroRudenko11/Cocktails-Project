{"mappings":"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","sources":["src/js/modal-coctails.js"],"sourcesContent":["// =====================открвтие модалки=================\n\nconst refs = {\n  closeModalBtn: document.querySelector('[data-modal-cockt-close]'),\n  addRemlBtn: document.querySelector('.modal-cockt__add-rem-btn'),\n  modal: document.querySelector('[data-modal-cockt]'),\n  body: document.querySelector('body'),\n};\n\n//   for (item of refs.openModalList) {\n//     item.addEventListener('click', toggleModal);\n//   }\nrefs.modal.addEventListener('click', e => {\n  if (e.target === e.currentTarget) {\n    closeModal();\n  }\n});\n\nrefs.closeModalBtn.addEventListener('click', closeModal);\nrefs.addRemlBtn.addEventListener('click', closeModal);\n\nfunction closeModal() {\n  refs.modal.classList.toggle('is-hidden');\n  if (refs.body.classList.contains('no-scroll')) {\n    refs.body.classList.remove('no-scroll');\n  }\n}\n\nfunction toggleModal() {\n  refs.modal.classList.toggle('is-hidden');\n  refs.body.classList.toggle('no-scroll');\n}\n\ndocument.addEventListener('click', e => {\n  if (e.target.dataset.cocktail) {\n    const cocktaiId = Number(e.target.dataset.cocktail);\n    getCocktailData(cocktaiId);\n    toggleModal();\n  }\n  return;\n});\n\n// ===========================================\n\nimport axios from 'axios';\n\n// const learnMoreBtn = document.querySelector('.learn-more-btn');\nconst name = document.querySelector('.modal-cockt__name');\nconst instractions = document.querySelector('.modal-cockt__instr-text');\nconst list = document.querySelector('.modal-cockt__per-list');\nconst image = document.querySelector('.modal-cockt__img');\nconst item = document.querySelector('.modal-cockt__card');\n\nasync function getCocktailData(cocktaiId) {\n  const cocktail = await fetchCocktail(cocktaiId);\n\n  renderCocktailCard(cocktail, cocktaiId);\n}\n\nasync function fetchCocktail(queryToFetch) {\n  try {\n    const result = await axios.get(\n      `https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=${queryToFetch}`\n    );\n\n    return result.data.drinks[0];\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction renderCocktailCard(cocktail, cocktaiId) {\n  item.dataset.id = `${cocktaiId}`;\n  image.src = `${cocktail.strDrinkThumb}`;\n  name.textContent = `${cocktail.strDrink}`;\n  instractions.textContent = `${cocktail.strInstructions}`;\n  let perList = [];\n  list.innerHTML = '';\n  for (let i = 1; i < 15; i++) {\n    if (cocktail[`strMeasure${i}`] || cocktail[`strIngredient${i}`]) {\n      if (!cocktail[`strMeasure${i}`] || (cocktail[`strMeasure${i}`] === \"\\n\")) {\n        perList.push(\n          `<li class=\"modal-cockt__ingred\">\n          <a>\n            <p>\n            <span data-ingredient=\"${cocktail[`strIngredient${i}`]}\">\n              ${cocktail[`strIngredient${i}`]}\n            </span></p>\n          </a>\n        </li>`\n        );\n        break;\n      }\n      perList.push(\n        `<li class=\"modal-cockt__ingred\">\n          <a>\n            <p>${cocktail[`strMeasure${i}`]}\n            <span data-ingredient=\"${cocktail[`strIngredient${i}`]}\">\n              ${cocktail[`strIngredient${i}`]}\n            </span></p>\n          </a>\n        </li>`\n      );\n    }\n  }\n  list.insertAdjacentHTML('beforeend', perList.join(''));\n\n  markupingBtnModal();\n}\n\nfunction markupingBtnModal() {\n  const btns = document.querySelectorAll('[data-add]');\n  btns.forEach(btn => {\n    const card = btn.closest('.item');\n    const coctId = card.dataset.id;\n    const coctailList = JSON.parse(localStorage.getItem('coctailse'));\n    const numbs = coctailList.map(({ id }) => id);\n    if (numbs.some(value => value === coctId)) {\n      if (btn.dataset.modal != undefined) {\n        btn.textContent = 'Remove from favorite';\n      }\n    } else {\n      if (btn.dataset.modal != undefined) {\n        btn.textContent = 'Add to favorite';\n      }\n    }\n  });\n}\n"],"names":["$bpxeT","parcelRequire","$e0270c0254383afa$var$refs","closeModalBtn","document","querySelector","addRemlBtn","modal","body","$e0270c0254383afa$var$closeModal","classList","toggle","contains","remove","addEventListener","e","target","currentTarget","dataset","cocktail","cocktaiId","$e0270c0254383afa$var$_getCocktailData","apply","this","arguments","$e0270c0254383afa$var$getCocktailData","Number","$e0270c0254383afa$var$name","$e0270c0254383afa$var$instractions","$e0270c0254383afa$var$list","$e0270c0254383afa$var$image","$e0270c0254383afa$var$item","$parcel$interopDefault","$2TvXO","mark","_callee","$e0270c0254383afa$var$fetchCocktail","$e0270c0254383afa$var$renderCocktailCard","_ctx","sent","queryToFetch","$e0270c0254383afa$var$_fetchCocktail","result","$dIxxU","default","get","concat","data","drinks","console","log","t0","id","src","strDrinkThumb","textContent","strDrink","strInstructions","perList","innerHTML","i","push","insertAdjacentHTML","join","querySelectorAll","forEach","btn","coctId","closest","JSON","parse","localStorage","getItem","map","param","some","value","undefined"],"version":3,"file":"favorite-cocktails.3fd098d6.js.map"}